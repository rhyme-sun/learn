# 虚拟化 CPU

操作系统需要以某种方式让许多任务共享物理 CPU，让它们看起来像是同时运行，即虚拟化 CPU。虚拟化 CPU 的基本思路很简单，运行一个进程一段时间，然后运行另一个进程，如此轮换，通过以这种方式时分共享（time sharing）CPU，就实现了虚拟化。

然而构建这样的虚拟化机制存在一些些挑战。第一个是如何在不增加系统开销的情况下实现虚拟化？第二个是如何在有效的运行进程时，同时保留对 CPU 的控制？

接下来我们就看操作系统是**如何高效、可控地虚拟化 CPU**。

操作系统必须以高性能的方式虚拟化 CPU，同时保持对系统的控制。为此，需要硬件和操作系统支持。操作系统通常会明智地利用硬件支持，以便高效地实现其工作。

## 无限制执行





## 受限执行



