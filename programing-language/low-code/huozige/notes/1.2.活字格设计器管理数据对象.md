# 活字格设计器管理数据对象

使用活字格设计器管理数据对象。





## 表字段



### 统计字段

[统计字段 - 活字格V8帮助手册 - 葡萄城产品文档中心 (grapecity.com.cn)](https://help.grapecity.com.cn/pages/viewpage.action?pageId=72352291)

在页面表格中绑定的非统计字段为分组的条件，字段相同的记录会被分为一组，而统计字段则会统计每一组的数据。如果表格只绑定了统计字段，则所有记录为一组。



## 主从表

[建立主从表 - 活字格V8帮助手册 - 葡萄城产品文档中心 (grapecity.com.cn)](https://help.grapecity.com.cn/pages/viewpage.action?pageId=72354978)

在活字格中，当有多个有关系的数据表时，可以将两张表设置为主从表，一个表为主表，另一个表为从表（子表）。主从表是一对父子表的关系，关系为一对多，即主表一条记录对应从表多条或一条记录。

### 主从表特征

主从表有以下特征：

- 一对多：主表一条记录，对应从表多条记录。
- 资源共享：**从表的一个引用字段可对应主表中的所有信息**。
- 易于维护：如果主表中内容有变化，只须改动主表内容即可，从表不需要做任何修改。

### 创建从表

[创建主从表 - 活字格V8帮助手册 - 葡萄城产品文档中心 (grapecity.com.cn)](https://help.grapecity.com.cn/pages/viewpage.action?pageId=72354987)

方法一：从主表创建，默认和主表的 ID 进行关联。

方法二：先创建，再选择关联字段进行关联。

### 页面从表

[设置子表格 - 活字格V8帮助手册 - 葡萄城产品文档中心 (grapecity.com.cn)](https://help.grapecity.com.cn/pages/viewpage.action?pageId=72355036)

在页面上讲表格设置为从表，实现数据松绑定。当点击主表某行时，自动根据关联字段在从表中展示对应信息。

方法一：自动设置；

方法二：手动设置。

### 从表更新模式

主表中被从表关联的字段更新时，控制从表的数据行为，默认是没有约束行为，即单纯只修改主表字段，没有约束，不会影响到子表。

在对象管理器，给表设置关联字段时，在“高级设置”中可开启外键约束，设置子表的更新模式。

- 约束更新：更新主表中的记录时，如果更新的为关联字段的值，且有对应的从表记录，则不允许更新，更新将失败。
- 置空更新：更新主表中的记录时，如果更新的为关联字段的值，且有对应的从表记录，则主表中的记录被更新，对应的从表不更新，但关联主表的字段的值将变为空。
- 级联更新：更新主表中的记录时，如果更新的为关联字段的值，且有对应的从表记录，则主表中的记录和对应的从表记录都将被更新。

### 从表删除模式

主表数据删除时，控制从表的数据行为，默认是没有约束行为，即单纯只修改主表字段，没有约束，不会影响到子表。

设置关联字段时，在“高级设置”中可开启外键约束，设置子表的删除模式。

- 约束删除：删除主表中的记录时，如果有对应的从表记录，则不允许删除，删除将失败。
- 置空删除：删除主表中的记录时，如果有对应的从表记录，则主表中的记录被删除，从表中的对应记录不删除，但关联主表的字段的值将变成空。
- 级联删除：删除主表中的记录时，如果有对应的从表记录，则主表中的记录被删除，从表中对应的记录也将被删除。

















