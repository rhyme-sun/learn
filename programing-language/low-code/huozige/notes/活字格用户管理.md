# 活字格用户管理

活字格用户管理。





## 设计器和服务端

[理解设计器与服务端 - 活字格V8帮助手册 - 葡萄城产品文档中心 (grapecity.com.cn)](https://help.grapecity.com.cn/pages/viewpage.action?pageId=72356579)

活字格有内置的用户管理模块，设计器和服务端都有。

设计器中的用户管理创建的用户、配置的组织结构及邮件服务器信息，只能在应用测试及开发时使用。

当应用正式上线发布后，则不能使用此平台创建的用户登录使用应用，也不能使用此时配置的邮件服务器发送邮件。



发布服务时可以勾选发布用户的几个按钮，将开发时的用户发布到服务端。



在管理控制台创建的用户、设置的用户信息及邮件服务器配置，应用正式上线后可直接使用。



设计器的用户管理平台与管理控制台有以下相同点：

1. 二者都可以用于创建用户、角色、组织结构。

2. 二者都可以设置邮件服务器、密码策略、进行用户的备份与还原。

3. 二者都可以配置第三方安全提供程序。

## 组织级别

[创建组织结构 - 活字格V8帮助手册 - 葡萄城产品文档中心 (grapecity.com.cn)](https://help.grapecity.com.cn/pages/viewpage.action?pageId=72356728#id-创建组织结构-3.组织级别)

**组织级别是组织结构中组织结点的级别标识**。

给组织节点设置组织级别，在给组织节点添加组织成员。

## 组织角色

一个用户可以有多个角色（用户角色）。

一个用户的多个角色在对应不同的组织级别。比如 A 在分公司这个组织级别下的用户角色为副总经理、在部门这个组织级别下为部门经理。

组织角色常用工作流组织机构过滤。

## 用户信息视图

[用户信息视图的妙用 - 葡萄城公开课 - 葡萄城产品技术社区 (grapecity.com.cn)](https://gcdn.grapecity.com.cn/forum.php?mod=viewthread&tid=57696&highlight=%D3%C3%BB%A7%D0%C5%CF%A2%CA%D3%CD%BC)

[用户信息视图 - 活字格V8帮助手册 - 葡萄城产品文档中心 (grapecity.com.cn)](https://help.grapecity.com.cn/pages/viewpage.action?pageId=72356802)



创建后用户信息视图后：

- 用户名、全名、邮件为用户的基本属性，电话为自定义属性，每个自定义属性作为一列进行展示；
- 如果一个用户有多个角色，多个角色之间用英文逗号“,”分隔；
- 组织上级用“‖”如果用户有多个组织上级，多个组织上级之间用“|”分隔；
- 设置组织结构的级别，在用户信息视图中每个级别会有一个列，表示用户所在的组织级别。根据组织结构中的设置，显示用户所在的组织结构。

## 用户管理 API

[用户管理接口 - 活字格V8帮助手册 - 葡萄城产品文档中心 (grapecity.com.cn)](https://help.grapecity.com.cn/pages/viewpage.action?pageId=72356850)

## 用户管理命令

[用户管理命令 - 葡萄城市场 (grapecity.com.cn)](https://marketplace.grapecity.com.cn/ApplicationDetails?productID=SP2104270014&productDetailID=D2209090033&tabName=Tabs_detail)



用户管理命令可以替代用户管理 API，使用起来更为方便。



## 认证模式

[认证模式 - 活字格V8帮助手册 - 葡萄城产品文档中心 (grapecity.com.cn)](https://help.grapecity.com.cn/pages/viewpage.action?pageId=72356858)



### 普通认证

使用活字格的用户管理服务认证用户。显示用户登录页面，需输入用户名和密码登录。

创建用户时需选择“Forms 身份验证用户”，具体请参见[创建用户](https://help.grapecity.com.cn/pages/viewpage.action?pageId=72356598)。

### Windows 域认证

如果您使用的是公司服务器上的 Active Directory 的用户管理，您可以登录到该公司的 Windows 域账号，然后自动登录到活字格应用。

此种认证模式下不会显示用户登录页面，但您必须提前在用户管理网站创建用户，创建用户时需选择“Windows 验证用户”，具体请参见[创建用户](https://help.grapecity.com.cn/pages/viewpage.action?pageId=72356598)。

### 第三方用户集成

一些网站提供 OpenId (Oauth2) 身份验证服务，如谷歌、微软、微信等。当活字格用户访问应用程序时，活字格页面将重定向到第三方网站登录页面，用户可以登录第三方网站，然后浏览器将自动跳转回到活字格并且自动登录。如果已经登录第三方网站，活字格应用程序将自动通过第三方网站的相同帐户登录活字格应用程序。

具体请参见[第四十章 与微信集成](https://help.grapecity.com.cn/pages/viewpage.action?pageId=72363759)。



## 第三方用户集成



### 用户安全提供程序

用户安全提供程序用来集成用户信息与第三方系统的登录。活字格将提供一个 ISecurityProvider 接口。通过实现该接口，用户可以与其他系统进行集成。



 





第三方用户安全程序。

用友、泛微，一套用户单点登录。

微信、钉钉。





