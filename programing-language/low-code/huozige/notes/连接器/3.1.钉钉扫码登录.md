# 钉钉扫码登录



[钉钉扫码登录命令 - 葡萄城市场 (grapecity.com.cn)](https://marketplace.grapecity.com.cn/ApplicationDetails?productID=SP2104270046&productDetailID=D2210240005&tabName=Tabs_detail)



1. 获取钉钉应用的 AppId 和 AppSecret（旧版控制台）；

   依次选择【登录钉钉开放平台】 、【点击体验旧版 】、【H5 微应用】 、【选择应用】、【登录】。

   获取对应应用的 AppId、AppSecret。

   

2. 创建一个服务端命令，调用钉钉扫码登录

   服务端命令名称**必须为英文**，且要设置为**匿名访问**，必须为 **GET**。

   首次登录模式可以选择创建用户或者与已有的用户关联（两种模式的配置方式有所不同）。



3. 定制登录页：

   - **创建用户模式**：定制登录页面，使用页面跳转命令通过GET方法调用创建好的服务端命令，页面跳转到指定值：ServerCommand/+服务端命令名称。

     首次登录成功后会在活字格内置用户里创建用户，用户名为一串码（还不知道是什么），全名为钉钉的用户名。

   - **与已有用户关联模式**：

     





[钉钉开放平台 (dingtalk.com)](https://open.dingtalk.com/)



## 问题记录



1. 扫码跳转后报无权限错误（**URL 参数和应用配置的回调域名不匹配**）：

   这个错误是由于在应用登录配置中回调域名和应用域名地址不一致导致的。

   去钉钉里将回调域名配置成应用域名地址配置一致即可。

   配置位置（**旧版控制台**），【应用开发】、【登录】、【找到对应应用】修改应用的回到域名。

